<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Digital Twin</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<header class="app-header">
		<h1>Battery Digital Twin</h1>
		<p class="subtitle">Your battery's data in real-time</p>
	</header>

	<section class="controls">
		<p class="note">Live mode: Reading private Google Sheet via secure backend. Polling every 5 seconds.</p>
	</section>

	<section class="status-bar">
		<div id="status">Initializing…</div>
		<div id="lastUpdated"></div>
	</section>

	<main>
		<section class="dashboard">
			<!-- SOC Row -->
			<div class="chart-row">
				<div class="gauge-card">
					<h2>SOC</h2>
					<canvas id="socGauge" width="240" height="140"></canvas>
					<div class="gauge-label"><span id="socVal">--%</span></div>
					<div class="mini-list">
						<div>SOC_cc: <strong id="socCcVal">--%</strong></div>
						<div>SOC_EKF: <strong id="socEkfVal">--%</strong></div>
						<div>SOC_AI: <strong id="socAiVal">--%</strong></div>
					</div>
				</div>
			</div>

			<!-- Voltage Row -->
			<div class="chart-row">
				<div class="stat-card chart-card">
					<h3>Voltage</h3>
					<div class="stat-value"><span id="voltVal">--</span> <span class="unit">V</span></div>
					<div class="subtle">Model: <span id="voltModelVal">--</span> V | V_RC_EKF: <span id="voltRcEkfVal">--</span> V</div>
					<canvas id="voltSpark" width="900" height="220"></canvas>
				</div>
			</div>

			<!-- Current Row -->
			<div class="chart-row">
				<div class="stat-card chart-card">
					<h3>Current</h3>
					<div class="stat-value"><span id="currVal">--</span> <span class="unit">A</span></div>
					<canvas id="currSpark" width="900" height="220"></canvas>
				</div>
			</div>

			<!-- Temperature and Status Row -->
			<div class="info-row">
				<div class="stat-card">
					<h3>Temperature</h3>
					<div class="stat-value"><span id="tempVal">--</span> <span class="unit">°C</span></div>
					<canvas id="tempSpark" width="280" height="64"></canvas>
				</div>
				<div class="stat-card">
					<h3>Status</h3>
					<div class="stat-value"><span id="stateVal">--</span></div>
					<div class="subtle">Timestamp: <span id="tsVal">--</span></div>
				</div>
			</div>
		</section>

		<div class="table-container">
			<table id="dataTable" class="data-table">
				<thead id="tableHead"></thead>
				<tbody id="tableBody"></tbody>
			</table>
		</div>
	</main>

	<footer class="app-footer">
		<a href="README.md" target="_blank" rel="noopener">Setup instructions</a>
	</footer>

	<script src="script.js"></script>
</body>
</html>
